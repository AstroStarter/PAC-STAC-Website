<!DOCTYPE html><html><head><script src=/page.5a6f3db5.js type=module></script></head><body><table><tbody><tr><td colspan=4><h2><picture><source media="(prefers-color-scheme: dark)" srcset=https://astro.build/assets/press/logomark-dark.svg><source media="(prefers-color-scheme: light)" srcset=https://astro.build/assets/press/logomark-light.svg><img alt=Astro src=https://astro.build/assets/press/logomark-light.svg width=25></picture>Related</h2></td></tr><tr><td colspan=1 valign=top><br><a href=https://github.com/astro-community/astro-compress/actions/workflows/node.yml><picture><source media="(prefers-color-scheme: dark)" srcset="https://img.shields.io/github/actions/workflow/status/astro-community/astro-compress/node.yml?branch=main&amp;label=Build&amp;logo=node.js&amp;color=black&amp;logoColor=white&amp;labelColor=black&amp;logoWidth=15"><source media="(prefers-color-scheme: light)" srcset="https://img.shields.io/github/actions/workflow/status/astro-community/astro-compress/node.yml?branch=main&amp;label=Build&amp;logo=node.js&amp;color=white&amp;logoColor=black&amp;labelColor=white&amp;logoWidth=15"><img alt=Astro src="https://img.shields.io/github/actions/workflow/status/astro-community/astro-compress/node.yml?branch=main&amp;label=Build&amp;logo=node.js&amp;color=black&amp;logoColor=white&amp;labelColor=black&amp;logoWidth=15"></picture></a><br><a href=https://npmjs.org/astro-compress><picture><source media="(prefers-color-scheme: dark)" srcset="https://img.shields.io/npm/v/astro-compress?label=version&amp;logo=npm&amp;color=black&amp;logoColor=white&amp;labelColor=black&amp;logoWidth=15"><source media="(prefers-color-scheme: light)" srcset="https://img.shields.io/npm/v/astro-compress?label=version&amp;logo=npm&amp;color=white&amp;logoColor=black&amp;labelColor=white&amp;logoWidth=15"><img alt=Astro src="https://img.shields.io/npm/v/astro-compress?label=version&amp;logo=npm&amp;color=black&amp;logoColor=white&amp;labelColor=black&amp;logoWidth=15"></picture></a><br><a href=https://npmjs.org/astro-compress><picture><source media="(prefers-color-scheme: dark)" srcset="https://img.shields.io/librariesio/release/npm/astro-compress?label=dependencies&amp;logo=dependabot&amp;color=black&amp;logoColor=white&amp;labelColor=black&amp;logoWidth=15"><source media="(prefers-color-scheme: light)" srcset="https://img.shields.io/librariesio/release/npm/astro-compress?label=dependencies&amp;logo=dependabot&amp;color=white&amp;logoColor=black&amp;labelColor=white&amp;logoWidth=15"><img alt=Astro src="https://img.shields.io/librariesio/release/npm/astro-compress?label=dependencies&amp;logo=dependabot&amp;color=black&amp;logoColor=white&amp;labelColor=black&amp;logoWidth=15"></picture></a><br><a href=https://npmjs.org/astro-compress><picture><source media="(prefers-color-scheme: dark)" srcset="https://img.shields.io/npm/dw/astro-compress?label=downloads&amp;logo=npm&amp;color=black&amp;logoColor=white&amp;labelColor=black&amp;logoWidth=15"><source media="(prefers-color-scheme: light)" srcset="https://img.shields.io/npm/dw/astro-compress?label=downloads&amp;logo=npm&amp;color=white&amp;logoColor=black&amp;labelColor=white&amp;logoWidth=15"><img alt=Astro src="https://img.shields.io/npm/dw/astro-compress?label=downloads&amp;logo=npm&amp;color=black&amp;logoColor=white&amp;labelColor=black&amp;logoWidth=15"></picture></a><br><br></td><td colspan=1 valign=top><br><a href=https://github.com/astro-community/astro-compress><picture><source media="(prefers-color-scheme: dark)" srcset="https://img.shields.io/github/stars/astro-community/astro-compress?label=stars&amp;logo=github&amp;color=black&amp;logoColor=white&amp;labelColor=black&amp;logoWidth=15"><source media="(prefers-color-scheme: light)" srcset="https://img.shields.io/github/stars/astro-community/astro-compress?label=stars&amp;logo=github&amp;color=white&amp;logoColor=black&amp;labelColor=white&amp;logoWidth=15"><img alt=Astro src="https://img.shields.io/github/stars/astro-community/astro-compress?label=stars&amp;logo=github&amp;color=black&amp;logoColor=white&amp;labelColor=black&amp;logoWidth=15"></picture></a><br><a href=https://github.com/astro-community/astro-compress><b>astro-compress</b></a><br><b>🗜️ AstroJS compression utilities.<br>Compress HTML, CSS, JavaScript and more.<br></b></td><td colspan=1 valign=top><br><a href=https://github.com/astro-community/astro-rome/actions/workflows/node.yml><picture><source media="(prefers-color-scheme: dark)" srcset="https://img.shields.io/github/actions/workflow/status/astro-community/astro-rome/node.yml?branch=main&amp;label=Build&amp;logo=node.js&amp;color=black&amp;logoColor=white&amp;labelColor=black&amp;logoWidth=15"><source media="(prefers-color-scheme: light)" srcset="https://img.shields.io/github/actions/workflow/status/astro-community/astro-rome/node.yml?branch=main&amp;label=Build&amp;logo=node.js&amp;color=white&amp;logoColor=black&amp;labelColor=white&amp;logoWidth=15"><img alt=Astro src="https://img.shields.io/github/actions/workflow/status/astro-community/astro-rome/node.yml?branch=main&amp;label=Build&amp;logo=node.js&amp;color=black&amp;logoColor=white&amp;labelColor=black&amp;logoWidth=15"></picture></a><br><a href=https://npmjs.org/astro-rome><picture><source media="(prefers-color-scheme: dark)" srcset="https://img.shields.io/npm/v/astro-rome?label=version&amp;logo=npm&amp;color=black&amp;logoColor=white&amp;labelColor=black&amp;logoWidth=15"><source media="(prefers-color-scheme: light)" srcset="https://img.shields.io/npm/v/astro-rome?label=version&amp;logo=npm&amp;color=white&amp;logoColor=black&amp;labelColor=white&amp;logoWidth=15"><img alt=Astro src="https://img.shields.io/npm/v/astro-rome?label=version&amp;logo=npm&amp;color=black&amp;logoColor=white&amp;labelColor=black&amp;logoWidth=15"></picture></a><br><a href=https://npmjs.org/astro-rome><picture><source media="(prefers-color-scheme: dark)" srcset="https://img.shields.io/librariesio/release/npm/astro-rome?label=dependencies&amp;logo=dependabot&amp;color=black&amp;logoColor=white&amp;labelColor=black&amp;logoWidth=15"><source media="(prefers-color-scheme: light)" srcset="https://img.shields.io/librariesio/release/npm/astro-rome?label=dependencies&amp;logo=dependabot&amp;color=white&amp;logoColor=black&amp;labelColor=white&amp;logoWidth=15"><img alt=Astro src="https://img.shields.io/librariesio/release/npm/astro-rome?label=dependencies&amp;logo=dependabot&amp;color=black&amp;logoColor=white&amp;labelColor=black&amp;logoWidth=15"></picture></a><br><a href=https://npmjs.org/astro-rome><picture><source media="(prefers-color-scheme: dark)" srcset="https://img.shields.io/npm/dw/astro-rome?label=downloads&amp;logo=npm&amp;color=black&amp;logoColor=white&amp;labelColor=black&amp;logoWidth=15"><source media="(prefers-color-scheme: light)" srcset="https://img.shields.io/npm/dw/astro-rome?label=downloads&amp;logo=npm&amp;color=white&amp;logoColor=black&amp;labelColor=white&amp;logoWidth=15"><img alt=Astro src="https://img.shields.io/npm/dw/astro-rome?label=downloads&amp;logo=npm&amp;color=black&amp;logoColor=white&amp;labelColor=black&amp;logoWidth=15"></picture></a><br><br></td><td colspan=1 valign=top><br><a href=https://github.com/astro-community/astro-rome><picture><source media="(prefers-color-scheme: dark)" srcset="https://img.shields.io/github/stars/astro-community/astro-rome?label=stars&amp;logo=github&amp;color=black&amp;logoColor=white&amp;labelColor=black&amp;logoWidth=15"><source media="(prefers-color-scheme: light)" srcset="https://img.shields.io/github/stars/astro-community/astro-rome?label=stars&amp;logo=github&amp;color=white&amp;logoColor=black&amp;labelColor=white&amp;logoWidth=15"><img alt=Astro src="https://img.shields.io/github/stars/astro-community/astro-rome?label=stars&amp;logo=github&amp;color=black&amp;logoColor=white&amp;labelColor=black&amp;logoWidth=15"></picture></a><br><a href=https://github.com/astro-community/astro-rome><b>astro-rome</b></a><br><b>🏛️ AstroJS Rome tools.<br>Format, lint and check your Astro website with Rome.<br></b></td></tr></tbody></table># [astro-critters] 🦔 This **[Astro integration][astro-integration]** brings [critters][critters] to your Astro project. Critters is a plugin that inlines your app's [critical CSS] and lazy-loads the rest. &gt; **Note** &gt; &gt; `astro-critters` will not inline your requests, only your statically generated &gt; build and pre-rendered routes. ## Installation There are two ways to add integrations to your project. Let's try the most convenient option first! ### `astro add` command Astro includes a CLI tool for adding first party integrations: `astro add`. This command will: 1. (Optionally) Install all necessary dependencies and peer dependencies 2. (Also optionally) Update your `astro.config.*` file to apply this integration To install `astro-critters`, run the following from your project directory and follow the prompts: ```sh # Using NPM npx astro add astro-critters # Using Yarn yarn astro add astro-critters # Using PNPM pnpx astro add astro-critters ``` ### Install dependencies manually First, install the `astro-critters` integration like so: ``` npm install -D -E astro-critters ``` Then, apply this integration to your `astro.config.*` file using the `integrations` property: ```ts import critters from "astro-critters"; export default { integrations: [critters()], }; ``` ## Getting started Critters will now automatically inline the critical CSS of your HTML files. You can override any of the default options from the configuration of: - [critters](https://github.com/GoogleChromeLabs/critters#usage) or disable them entirely: ```ts import critters from "astro-critters"; export default { integrations: [ critters({ critters: false, }), ], }; ``` If your path is different than `dist` be sure to update it accordingly: ```ts import critters from "astro-critters"; export default { outDir: "./build", integrations: [ critters({ path: "./build", }), ], }; ``` You can add multiple paths to inline by specifying an array as the `path` variable. **`astro.config.ts`** ```ts import critters from "astro-critters"; export default { integrations: [ critters({ path: ["./build", "./dist"], }), ], }; ``` You can also provide a map of paths for different input output directories. **`astro.config.ts`** ```ts import critters from "astro-critters"; export default { integrations: [ critters({ path: new Map([["./input", "./output"]]), }), ], }; ``` Or an array of the two. **`astro.config.ts`** ```ts import critters from "astro-critters"; export default { integrations: [ critters({ path: [ // inline dist "./dist", // inline dist one more time into a different directory new Map([["./dist", "./dist-inlined"]]), ], }), ], }; ``` You can provide a filter to exclude files in your build. A filter can be an array of regexes or a single match. You can use functions, as well to match on file names. **`astro.config.ts`** ```ts import critters from "astro-critters"; export default { integrations: [ critters({ exclude: [ "my-awesome.html", (file: string) =&gt; file === "./dist/index.html", ], }), ], }; ``` Set `logger` to `0` if you do not want to see debug messages. Default is `2`. ```ts import critters from "astro-critters"; export default { integrations: [ critters({ logger: 0, }), ], }; ``` [astro-critters]: https://npmjs.org/astro-critters [critters]: https://github.com/GoogleChromeLabs/critters [astro-integration]: https://docs.astro.build/en/guides/integrations-guide/ [critical css]: https://www.smashingmagazine.com/2015/08/understanding-critical-css/ ## Changelog See [CHANGELOG.md](CHANGELOG.md) for a history of changes to this integration. [![Lightrix logo](https://raw.githubusercontent.com/Lightrix/npm/main/.github/img/favicon.png "Built with Lightrix/npm")](https://github.com/Lightrix/npm)</body></html>